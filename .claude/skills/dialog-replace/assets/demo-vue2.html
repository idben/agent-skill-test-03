<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vue 3 Dialog 元件示範 - Tailwind CSS</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <style>
    /* Dialog 基礎樣式 */
    .dialog-container {
      border: none;
      border-radius: 0.75rem;
      padding: 0;
      max-width: 420px;
      width: 90%;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
      --animate-duration: 0.3s;
    }

    .dialog-container::backdrop {
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(2px);
    }

    /* Alert 類型樣式 */
    .alert-success .dialog-header {
      background: linear-gradient(135deg, #d1fae5, #a7f3d0);
    }

    .alert-error .dialog-header {
      background: linear-gradient(135deg, #fee2e2, #fecaca);
    }

    .alert-info .dialog-header {
      background: linear-gradient(135deg, #dbeafe, #bfdbfe);
    }

    /* 錯誤訊息 */
    .error-message {
      display: none;
    }

    .error-message.show {
      display: block;
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen">
  <div id="app">
    <div class="container mx-auto px-4 py-10 max-w-4xl">
      <div class="text-center mb-10">
        <h1 class="text-4xl font-bold text-gray-800 mb-2">Vue 3 Dialog 元件</h1>
        <p class="text-lg text-gray-500">使用 Composition API 建立的原生 Dialog 元件</p>
        <div class="mt-4 flex justify-center gap-2">
          <span class="px-3 py-1 bg-green-500 text-white text-sm rounded-full">Vue 3</span>
          <span class="px-3 py-1 bg-blue-500 text-white text-sm rounded-full">Tailwind CSS</span>
          <span class="px-3 py-1 bg-purple-500 text-white text-sm rounded-full">Animate.css</span>
        </div>
      </div>

      <!-- Alert 示範 -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <h5 class="text-lg font-semibold text-gray-700 mb-4 pb-3 border-b-2 border-gray-200">Alert 訊息對話框</h5>
        <div class="flex flex-wrap gap-2">
          <button class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md transition-colors" @click="demoAlertSuccess">
            成功訊息
          </button>
          <button class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-md transition-colors" @click="demoAlertError">
            錯誤訊息
          </button>
          <button class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors" @click="demoAlertInfo">
            一般通知
          </button>
        </div>
      </div>

      <!-- Confirm 示範 -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <h5 class="text-lg font-semibold text-gray-700 mb-4 pb-3 border-b-2 border-gray-200">Confirm 確認對話框</h5>
        <div class="flex flex-wrap gap-2 mb-4">
          <button class="px-4 py-2 border border-red-500 text-red-500 hover:bg-red-50 rounded-md transition-colors" @click="demoConfirmDelete">
            刪除確認
          </button>
          <button class="px-4 py-2 border border-yellow-500 text-yellow-600 hover:bg-yellow-50 rounded-md transition-colors" @click="demoConfirmLeave">
            離開確認
          </button>
          <button class="px-4 py-2 border border-blue-500 text-blue-500 hover:bg-blue-50 rounded-md transition-colors" @click="demoConfirmCustom">
            自定義按鈕
          </button>
        </div>
        <div class="bg-gray-100 rounded-md px-4 py-3 font-mono text-sm">
          結果：{{ confirmResult }}
        </div>
      </div>

      <!-- Prompt 示範 -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <h5 class="text-lg font-semibold text-gray-700 mb-4 pb-3 border-b-2 border-gray-200">Prompt 輸入對話框</h5>
        <div class="flex flex-wrap gap-2 mb-4">
          <button class="px-4 py-2 border border-gray-400 text-gray-600 hover:bg-gray-50 rounded-md transition-colors" @click="demoPromptSimple">
            簡單輸入
          </button>
          <button class="px-4 py-2 border border-gray-400 text-gray-600 hover:bg-gray-50 rounded-md transition-colors" @click="demoPromptDefault">
            預設值輸入
          </button>
          <button class="px-4 py-2 border border-gray-400 text-gray-600 hover:bg-gray-50 rounded-md transition-colors" @click="demoPromptValidate">
            驗證輸入
          </button>
        </div>
        <div class="bg-gray-100 rounded-md px-4 py-3 font-mono text-sm">
          輸入值：{{ promptResult }}
        </div>
      </div>

      <!-- Custom Dialog 示範 -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <h5 class="text-lg font-semibold text-gray-700 mb-4 pb-3 border-b-2 border-gray-200">Custom 自定義對話框</h5>
        <div class="flex flex-wrap gap-2 mb-4">
          <button class="px-4 py-2 border border-gray-700 text-gray-700 hover:bg-gray-100 rounded-md transition-colors" @click="demoDialogButtons">
            多按鈕選擇
          </button>
          <button class="px-4 py-2 border border-gray-700 text-gray-700 hover:bg-gray-100 rounded-md transition-colors" @click="demoDialogHtml">
            HTML 內容
          </button>
          <button class="px-4 py-2 border border-gray-700 text-gray-700 hover:bg-gray-100 rounded-md transition-colors" @click="demoDialogList">
            清單選項
          </button>
        </div>
        <div class="bg-gray-100 rounded-md px-4 py-3 font-mono text-sm">
          選擇：{{ dialogResult }}
        </div>
      </div>

      <!-- Dialog Container 元件 -->
      <dialog-container
        :is-open="dialog.isOpen.value"
        :dialog-type="dialog.dialogType.value"
        :config="dialog.config"
        :animation-class="dialog.animationClass.value"
        :is-closing="dialog.isClosing.value"
        @alert-ok="dialog.handleAlertOk"
        @confirm-cancel="dialog.handleConfirmCancel"
        @confirm-ok="dialog.handleConfirmOk"
        @prompt-cancel="dialog.handlePromptCancel"
        @prompt-ok="dialog.handlePromptOk"
        @input-change="dialog.handleInputChange"
        @button-click="dialog.handleButtonClick"
        @list-item-click="dialog.handleListItemClick"
        @custom-cancel="dialog.handleCustomCancel"
      ></dialog-container>
    </div>
  </div>

  <!-- Vue 3 CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

  <script>
    const { ref, reactive, readonly, watch, nextTick, h, Teleport } = Vue;

    // Tailwind 按鈕樣式
    const btnStyles = {
      primary: 'px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors',
      secondary: 'px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-md transition-colors',
      danger: 'px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-md transition-colors',
      success: 'px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md transition-colors',
      warning: 'px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-md transition-colors',
      light: 'px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md transition-colors'
    };

    const alertConfig = {
      success: { icon: '', title: '成功', class: 'alert-success' },
      error: { icon: '', title: '錯誤', class: 'alert-error' },
      info: { icon: '', title: '通知', class: 'alert-info' }
    };

    const DialogType = {
      ALERT: 'alert',
      CONFIRM: 'confirm',
      PROMPT: 'prompt',
      CUSTOM: 'custom'
    };

    function useDialog() {
      const isOpen = ref(false);
      const dialogType = ref(DialogType.ALERT);
      const animationClass = ref('');
      const isClosing = ref(false);

      const config = reactive({
        title: '',
        icon: '',
        message: '',
        alertType: 'info',
        confirmText: '確定',
        cancelText: '取消',
        isDanger: false,
        inputValue: '',
        placeholder: '',
        defaultValue: '',
        validate: null,
        errorMessage: '',
        html: '',
        buttons: [],
        listOptions: [],
        isListMode: false
      });

      let resolvePromise = null;

      const resetConfig = () => {
        config.title = '';
        config.icon = '';
        config.message = '';
        config.alertType = 'info';
        config.confirmText = '確定';
        config.cancelText = '取消';
        config.isDanger = false;
        config.inputValue = '';
        config.placeholder = '';
        config.defaultValue = '';
        config.validate = null;
        config.errorMessage = '';
        config.html = '';
        config.buttons = [];
        config.listOptions = [];
        config.isListMode = false;
      };

      const openDialog = (type, animation = 'zoomIn') => {
        dialogType.value = type;
        animationClass.value = 'animate__animated animate__' + animation;
        isClosing.value = false;
        isOpen.value = true;
      };

      const closeDialog = (result, animation = 'zoomOut') => {
        isClosing.value = true;
        animationClass.value = 'animate__animated animate__' + animation;

        setTimeout(function() {
          isOpen.value = false;
          isClosing.value = false;
          animationClass.value = '';
          if (resolvePromise) resolvePromise(result);
          resolvePromise = null;
        }, 300);
      };

      const showAlert = (message, type) => {
        type = type || 'info';
        resetConfig();
        const alertCfg = alertConfig[type] || alertConfig.info;
        config.title = alertCfg.title;
        config.icon = alertCfg.icon;
        config.message = message;
        config.alertType = type;
        openDialog(DialogType.ALERT, 'fadeInDown');
        return new Promise(function(resolve) { resolvePromise = resolve; });
      };

      const showConfirm = (message, options) => {
        options = options || {};
        resetConfig();
        var type = options.type || 'default';
        var confirmText = options.confirmText || '確定';
        var cancelText = options.cancelText || '取消';
        config.title = '確認';
        config.icon = '';
        config.message = message;
        config.confirmText = confirmText;
        config.cancelText = cancelText;
        config.isDanger = type === 'danger';
        openDialog(DialogType.CONFIRM, 'zoomIn');
        return new Promise(function(resolve) { resolvePromise = resolve; });
      };

      const showPrompt = (message, options) => {
        options = options || {};
        resetConfig();
        var defaultValue = options.defaultValue || '';
        var placeholder = options.placeholder || '';
        var validate = options.validate || null;
        config.title = '輸入';
        config.icon = '';
        config.message = message;
        config.inputValue = defaultValue;
        config.defaultValue = defaultValue;
        config.placeholder = placeholder;
        config.validate = validate;
        config.errorMessage = '';
        openDialog(DialogType.PROMPT, 'fadeInDown');
        return new Promise(function(resolve) { resolvePromise = resolve; });
      };

      const showDialog = (messageOrConfig, options) => {
        options = options || {};
        resetConfig();
        var dialogConfig = {};
        if (typeof messageOrConfig === 'string') {
          dialogConfig = Object.assign({ message: messageOrConfig }, options);
        } else {
          dialogConfig = messageOrConfig;
        }

        var title = dialogConfig.title || '對話框';
        var icon = dialogConfig.icon || '';
        var message = dialogConfig.message || '';
        var html = dialogConfig.html || '';
        var buttons = dialogConfig.buttons || [];
        var type = dialogConfig.type || 'default';
        var listOptions = dialogConfig.options || [];

        config.title = title;
        config.icon = icon;
        config.message = message;
        config.html = html;
        config.buttons = buttons;
        config.listOptions = listOptions;
        config.isListMode = type === 'list' && listOptions.length > 0;

        openDialog(DialogType.CUSTOM, 'fadeIn');
        return new Promise(function(resolve) { resolvePromise = resolve; });
      };

      const handleAlertOk = () => closeDialog(undefined, 'fadeOutUp');
      const handleConfirmCancel = () => closeDialog(false, 'zoomOut');
      const handleConfirmOk = () => closeDialog(true, 'zoomOut');
      const handlePromptCancel = () => closeDialog(null, 'fadeOutUp');

      const handlePromptOk = () => {
        if (config.validate) {
          var error = config.validate(config.inputValue);
          if (error) {
            config.errorMessage = error;
            return;
          }
        }
        closeDialog(config.inputValue, 'fadeOutUp');
      };

      const handleInputChange = (value) => {
        config.inputValue = value;
        config.errorMessage = '';
      };

      const handleButtonClick = (value) => closeDialog(value, 'fadeOut');
      const handleListItemClick = (value) => closeDialog(value, 'fadeOut');
      const handleCustomCancel = () => closeDialog(null, 'fadeOut');

      return {
        isOpen: readonly(isOpen),
        dialogType: readonly(dialogType),
        config: readonly(config),
        animationClass: readonly(animationClass),
        isClosing: readonly(isClosing),
        showAlert,
        showConfirm,
        showPrompt,
        showDialog,
        handleAlertOk,
        handleConfirmCancel,
        handleConfirmOk,
        handlePromptCancel,
        handlePromptOk,
        handleInputChange,
        handleButtonClick,
        handleListItemClick,
        handleCustomCancel
      };
    }

    // DialogContainer Component (Tailwind CSS 版本)
    const DialogContainer = {
      name: 'DialogContainer',
      props: {
        isOpen: { type: Boolean, default: false },
        dialogType: { type: String, default: DialogType.ALERT },
        config: { type: Object, default: () => ({}) },
        animationClass: { type: String, default: '' },
        isClosing: { type: Boolean, default: false }
      },
      emits: [
        'alert-ok', 'confirm-cancel', 'confirm-ok',
        'prompt-cancel', 'prompt-ok', 'input-change',
        'button-click', 'list-item-click', 'custom-cancel'
      ],
      setup(props, { emit }) {
        const dialogRef = ref(null);
        const inputRef = ref(null);

        watch(() => props.isOpen, async (newVal) => {
          await nextTick();
          if (newVal && dialogRef.value) {
            dialogRef.value.showModal();
            if (props.dialogType === DialogType.PROMPT && inputRef.value) {
              setTimeout(function() {
                if (inputRef.value) {
                  inputRef.value.focus();
                  inputRef.value.select();
                }
              }, 100);
            }
          } else if (!newVal && dialogRef.value) {
            dialogRef.value.close();
          }
        });

        const handleCancel = (e) => e.preventDefault();
        const handleSubmit = (e) => {
          e.preventDefault();
          emit('prompt-ok');
        };

        return { dialogRef, inputRef, handleCancel, handleSubmit };
      },
      render() {
        const { isOpen, dialogType, config, animationClass, isClosing } = this.$props;
        if (!isOpen) return null;

        const alertTypeClass = config.alertType ? 'alert-' + config.alertType : '';
        let dialogContent;

        switch (dialogType) {
          case DialogType.ALERT:
            dialogContent = this.renderAlert();
            break;
          case DialogType.CONFIRM:
            dialogContent = this.renderConfirm();
            break;
          case DialogType.PROMPT:
            dialogContent = this.renderPrompt();
            break;
          case DialogType.CUSTOM:
            dialogContent = this.renderCustom();
            break;
          default:
            dialogContent = null;
        }

        return h(Teleport, { to: 'body' }, [
          h('dialog', {
            ref: 'dialogRef',
            class: ['dialog-container', alertTypeClass, animationClass, { 'dialog-closing': isClosing }],
            onCancel: this.handleCancel
          }, dialogContent)
        ]);
      },
      methods: {
        renderAlert() {
          const { config } = this.$props;
          return [
            h('div', { class: 'dialog-header flex items-center gap-3 px-5 py-4' }, [
              h('span', { class: 'text-2xl' }, config.icon),
              h('h6', { class: 'text-lg font-semibold m-0' }, config.title)
            ]),
            h('div', { class: 'px-5 py-4' }, [
              h('p', { class: 'text-gray-600 m-0' }, config.message)
            ]),
            h('div', { class: 'flex justify-end gap-2 px-5 py-4 bg-gray-50 border-t border-gray-200' }, [
              h('button', {
                type: 'button',
                class: btnStyles.primary,
                onClick: () => this.$emit('alert-ok')
              }, '確定')
            ])
          ];
        },
        renderConfirm() {
          const { config } = this.$props;
          return [
            h('div', { class: 'flex items-center gap-3 px-5 py-4 border-b border-gray-200' }, [
              h('span', { class: 'text-2xl' }, config.icon),
              h('h6', { class: 'text-lg font-semibold text-gray-800 m-0' }, config.title)
            ]),
            h('div', { class: 'px-5 py-4' }, [
              h('p', { class: 'text-gray-600 m-0' }, config.message)
            ]),
            h('div', { class: 'flex justify-end gap-2 px-5 py-4 bg-gray-50 border-t border-gray-200' }, [
              h('button', {
                type: 'button',
                class: btnStyles.secondary,
                onClick: () => this.$emit('confirm-cancel')
              }, config.cancelText),
              h('button', {
                type: 'button',
                class: config.isDanger ? btnStyles.danger : btnStyles.primary,
                onClick: () => this.$emit('confirm-ok')
              }, config.confirmText)
            ])
          ];
        },
        renderPrompt() {
          const { config } = this.$props;
          return [
            h('form', { onSubmit: this.handleSubmit }, [
              h('div', { class: 'flex items-center gap-3 px-5 py-4 border-b border-gray-200' }, [
                h('span', { class: 'text-2xl' }, config.icon),
                h('h6', { class: 'text-lg font-semibold text-gray-800 m-0' }, config.title)
              ]),
              h('div', { class: 'px-5 py-4' }, [
                h('label', { class: 'block text-gray-700 mb-2' }, config.message),
                h('input', {
                  ref: 'inputRef',
                  type: 'text',
                  class: 'w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                  value: config.inputValue,
                  placeholder: config.placeholder,
                  onInput: (e) => this.$emit('input-change', e.target.value)
                }),
                config.errorMessage
                  ? h('div', { class: 'error-message show text-red-500 text-sm mt-2' }, config.errorMessage)
                  : null
              ]),
              h('div', { class: 'flex justify-end gap-2 px-5 py-4 bg-gray-50 border-t border-gray-200' }, [
                h('button', {
                  type: 'button',
                  class: btnStyles.secondary,
                  onClick: () => this.$emit('prompt-cancel')
                }, config.cancelText),
                h('button', { type: 'submit', class: btnStyles.primary }, config.confirmText)
              ])
            ])
          ];
        },
        renderCustom() {
          const { config } = this.$props;

          if (config.isListMode) {
            return [
              h('div', { class: 'flex items-center gap-3 px-5 py-4 border-b border-gray-200' }, [
                h('span', { class: 'text-2xl' }, config.icon),
                h('h6', { class: 'text-lg font-semibold text-gray-800 m-0' }, config.title)
              ]),
              h('div', { class: 'px-5 py-4' }, [
                config.message ? h('p', { class: 'text-gray-600 mb-3' }, config.message) : null,
                h('div', { class: 'border border-gray-200 rounded-md overflow-hidden' },
                  config.listOptions.map(function(opt) {
                    return h('button', {
                      type: 'button',
                      class: 'w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 border-b border-gray-200 last:border-b-0 text-left',
                      onClick: () => this.$emit('list-item-click', opt.value)
                    }, [
                      opt.icon ? h('span', { class: 'text-xl' }, opt.icon) : null,
                      h('span', { class: 'text-gray-700' }, opt.text)
                    ]);
                  }.bind(this))
                )
              ]),
              h('div', { class: 'flex justify-end gap-2 px-5 py-4 bg-gray-50 border-t border-gray-200' }, [
                h('button', {
                  type: 'button',
                  class: btnStyles.secondary,
                  onClick: () => this.$emit('custom-cancel')
                }, '取消')
              ])
            ];
          }

          return [
            h('div', { class: 'flex items-center gap-3 px-5 py-4 border-b border-gray-200' }, [
              h('span', { class: 'text-2xl' }, config.icon),
              h('h6', { class: 'text-lg font-semibold text-gray-800 m-0' }, config.title)
            ]),
            h('div', { class: 'px-5 py-4' }, [
              config.html
                ? h('div', { innerHTML: config.html })
                : h('p', { class: 'text-gray-600 m-0' }, config.message)
            ]),
            h('div', { class: 'flex justify-end gap-2 px-5 py-4 bg-gray-50 border-t border-gray-200' },
              config.buttons.length > 0
                ? config.buttons.map(function(btn) {
                    return h('button', {
                      type: 'button',
                      class: btnStyles[btn.style] || btnStyles.secondary,
                      onClick: () => this.$emit('button-click', btn.value)
                    }, btn.text);
                  }.bind(this))
                : [
                    h('button', {
                      type: 'button',
                      class: btnStyles.primary,
                      onClick: () => this.$emit('button-click', 'ok')
                    }, '確定')
                  ]
            )
          ];
        }
      }
    };

    // Vue App
    const app = Vue.createApp({
      components: { DialogContainer },
      setup() {
        const dialog = useDialog();

        const confirmResult = ref('尚未選擇');
        const promptResult = ref('尚未輸入');
        const dialogResult = ref('尚未選擇');

        const demoAlertSuccess = function() {
          dialog.showAlert('操作已成功完成！', 'success');
        };

        const demoAlertError = function() {
          dialog.showAlert('發生錯誤，請稍後再試。', 'error');
        };

        const demoAlertInfo = function() {
          dialog.showAlert('這是一則系統通知訊息。', 'info');
        };

        const demoConfirmDelete = async function() {
          const result = await dialog.showConfirm(
            '確定要刪除這個項目嗎？此操作無法復原。',
            { type: 'danger', confirmText: '刪除', cancelText: '取消' }
          );
          confirmResult.value = result ? '已確認刪除' : '已取消';
          await dialog.showAlert(
            result ? '項目已刪除' : '已取消刪除操作',
            result ? 'success' : 'info'
          );
        };

        const demoConfirmLeave = async function() {
          const result = await dialog.showConfirm(
            '您有未儲存的變更，確定要離開嗎？',
            { confirmText: '離開', cancelText: '留下' }
          );
          confirmResult.value = result ? '選擇離開' : '選擇留下';
          await dialog.showAlert(
            result ? '已離開頁面' : '繼續編輯',
            result ? 'info' : 'success'
          );
        };

        const demoConfirmCustom = async function() {
          const result = await dialog.showConfirm(
            '您要儲存這份文件嗎？',
            { confirmText: '儲存', cancelText: '不儲存' }
          );
          confirmResult.value = result ? '已儲存' : '不儲存';
          await dialog.showAlert(
            result ? '文件已儲存' : '文件未儲存',
            result ? 'success' : 'info'
          );
        };

        const demoPromptSimple = async function() {
          const result = await dialog.showPrompt('請輸入您的名字：');
          promptResult.value = result !== null ? '"' + result + '"' : '已取消';
          if (result !== null) {
            await dialog.showAlert('您好，' + result + '！', 'success');
          }
        };

        const demoPromptDefault = async function() {
          const result = await dialog.showPrompt('請輸入專案名稱：', {
            defaultValue: 'my-project',
            placeholder: '輸入專案名稱'
          });
          promptResult.value = result !== null ? '"' + result + '"' : '已取消';
          if (result !== null) {
            await dialog.showAlert('專案「' + result + '」已建立！', 'success');
          }
        };

        const demoPromptValidate = async function() {
          const result = await dialog.showPrompt('請輸入 Email：', {
            placeholder: 'example@mail.com',
            validate: function(value) {
              if (!value) return '請輸入 Email';
              if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
                return '請輸入有效的 Email 格式';
              }
              return null;
            }
          });
          promptResult.value = result !== null ? '"' + result + '"' : '已取消';
          if (result !== null) {
            await dialog.showAlert('Email 已設定為 ' + result, 'success');
          }
        };

        const demoDialogButtons = async function() {
          const result = await dialog.showDialog({
            title: '選擇操作',
            icon: '',
            message: '請選擇要執行的操作：',
            buttons: [
              { text: '儲存', value: 'save', style: 'primary' },
              { text: '另存新檔', value: 'save-as', style: 'secondary' },
              { text: '取消', value: 'cancel', style: 'light' }
            ]
          });
          dialogResult.value = result !== null ? '選擇了「' + result + '」' : '已取消';
        };

        const demoDialogHtml = async function() {
          const result = await dialog.showDialog({
            title: '產品資訊',
            icon: '',
            html: '<div class="text-center">' +
              '<div class="bg-gray-100 rounded-lg p-6 mb-4">' +
              '<span class="text-4xl">Headphones</span>' +
              '</div>' +
              '<h5 class="text-lg font-semibold mb-1">無線藍牙耳機 Pro</h5>' +
              '<p class="text-gray-500 text-sm mb-2">高品質音效，主動降噪，續航 24 小時</p>' +
              '<div class="flex justify-center gap-2 mb-2">' +
              '<span class="px-2 py-1 bg-green-100 text-green-700 text-xs rounded">熱銷</span>' +
              '<span class="px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded">限時優惠</span>' +
              '</div>' +
              '<p class="text-2xl font-bold text-blue-500">NT$ 1,299</p>' +
              '<small class="text-gray-400 line-through">NT$ 1,999</small>' +
              '</div>',
            buttons: [
              { text: '立即購買', value: 'buy', style: 'success' },
              { text: '加入購物車', value: 'cart', style: 'primary' },
              { text: '關閉', value: 'close', style: 'secondary' }
            ]
          });
          dialogResult.value = result !== null ? '選擇了「' + result + '」' : '已關閉';
        };

        const demoDialogList = async function() {
          const result = await dialog.showDialog({
            title: '選擇語言',
            icon: '',
            message: '請選擇介面語言：',
            type: 'list',
            options: [
              { text: '繁體中文', value: 'zh-TW' },
              { text: 'English', value: 'en' },
              { text: '日本語', value: 'ja' },
              { text: '한국어', value: 'ko' }
            ]
          });
          dialogResult.value = result !== null ? '選擇了「' + result + '」' : '已取消';
          if (result !== null) {
            await dialog.showAlert('語言已切換為 ' + result, 'success');
          }
        };

        return {
          dialog,
          confirmResult,
          promptResult,
          dialogResult,
          demoAlertSuccess,
          demoAlertError,
          demoAlertInfo,
          demoConfirmDelete,
          demoConfirmLeave,
          demoConfirmCustom,
          demoPromptSimple,
          demoPromptDefault,
          demoPromptValidate,
          demoDialogButtons,
          demoDialogHtml,
          demoDialogList
        };
      }
    });

    app.mount('#app');
  </script>
</body>
</html>
